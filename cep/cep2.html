

<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CEP 2 - Separation of Concerns in the Cyclus Ecosystem &#8212; Home</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/cyclus.css?v=a0e5ed17" />
    <link rel="stylesheet" type="text/css" href="../_static/table_styling.css?v=a1a2a898" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script src="../_static/documentation_options.js?v=8cf7d53e"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="icon" href="../_static/big_c.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CEP 3 - Cyclus Release Procedure" href="cep3.html" />
    <link rel="prev" title="CEP 1 - CEP Purpose and Guidelines" href="cep1.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12222727-2']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep3.html" title="CEP 3 - Cyclus Release Procedure"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep1.html" title="CEP 1 - CEP Purpose and Guidelines"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="cep0.html" accesskey="U"><span style="font-variant:small-caps;">Cyclus</span> Enhancement Proposals</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CEP 2 - Separation of Concerns in the <span style="font-variant:small-caps;">Cyclus</span> Ecosystem</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cep-2-separation-of-concerns-in-the-cyclus-ecosystem">
<h1>CEP 2 - Separation of Concerns in the <span style="font-variant:small-caps;">Cyclus</span> Ecosystem<a class="headerlink" href="#cep-2-separation-of-concerns-in-the-cyclus-ecosystem" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">CEP<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
<dt class="field-even">Title<span class="colon">:</span></dt>
<dd class="field-even"><p>Separation of Concerns in the <span style="font-variant:small-caps;">Cyclus</span> Ecosystem, or Where Do I Put My Code?</p>
</dd>
<dt class="field-odd">Last-Modified<span class="colon">:</span></dt>
<dd class="field-odd"><p>2017-09-01</p>
</dd>
<dt class="field-even">Author<span class="colon">:</span></dt>
<dd class="field-even"><p>Anthony Scopatz, Matthew Gidden</p>
</dd>
<dt class="field-odd">Status<span class="colon">:</span></dt>
<dd class="field-odd"><p>Accepted</p>
</dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><p>Process</p>
</dd>
<dt class="field-odd">Created<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-08-05</p>
</dd>
</dl>
<section id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Link to this heading">¶</a></h2>
<p>The purpose of this CEP is to clearly delineate the purpose – technical and
cultural – of the various projects which make up the <span style="font-variant:small-caps;">Cyclus</span> ecosystem.
Projects, for purposes here, are unique entities which have independent lifetimes
and central concerns. Many projects may try to tackle the same concern but no
single project may tackle more than one concern.  Concerns, like projects, may
be dependent upon one another.</p>
<p>The central concerns in the <span style="font-variant:small-caps;">Cyclus</span> ecosystem are
<strong>dynamic resource exchange simulation</strong> (DRES),  <strong>domain models</strong> (DM),
<strong>analysis &amp; visualization</strong> (A&amp;V), and <strong>simulation orchestration</strong> (ORC).</p>
</section>
<section id="concerns">
<h2>Concerns<a class="headerlink" href="#concerns" title="Link to this heading">¶</a></h2>
<p>A rich fuel cycle simulator solution has four primary organizational pieces that
must have robust implementations.  These pieces are a mechanism for solving for
resource exchange in the fuel cycle, relevant and interesting  models for the
domains of interest (physics, economics, policy, etc.), a
programmatic method for parsing, slicing, aggregating, and displaying
simulation results, and a mechanism for executing and collecting many simulations.
As an effectively designed suite of software, these concerns
should be completely separated from one another
and interact only through well-defined interfaces <a class="footnote-reference brackets" href="#id5" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.  This
independence allows both users and developers to reason about each concern
without needing to consider upstream effects.  Coupled with a stable interface
or API, this independence also allows users and developers to ignore downstream
effects in most cases.</p>
<p>The domain model concern is dependent only on the resource exchange concern.
However, the analysis &amp; visualization concern is directly dependent on both the
resource exchange and the domain model concerns.  These relationships may be seen
in Figure 1.</p>
<figure class="align-center" id="id10">
<img alt="../_images/cep-0002-1.svg" src="../_images/cep-0002-1.svg" /><figcaption>
<p><span class="caption-text"><strong>Figure 1:</strong> Dependencies Between Concerns</span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="dynamic-resource-exchange-simulation">
<h3>Dynamic Resource Exchange Simulation<a class="headerlink" href="#dynamic-resource-exchange-simulation" title="Link to this heading">¶</a></h3>
<p>The dynamic resource exchange simulation concern is the basis for all other fuel
cycle concerns.  This dictates and manages how resources flow through a system and
the time paradigm used to model the system.  A number of possible representations of
system elements exist.  Two main options stand out: 1) <em>individual-based</em> models in
which every actor receives its own instance, and 2) <em>fleet-based</em> models where
like actors are grouped together and act identically.  Resource exchange may be
implemented using a strict <em>agent-based</em> modeling <a class="footnote-reference brackets" href="#id6" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> approach or strict
<em>system dynamics</em> methods <a class="footnote-reference brackets" href="#id7" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>.  However, these two paradigms are not restrictive
and implementations may pull from a variety of algorithms as needed.</p>
<p>Furthermore, the choice of how to represent time evolution may fall into one
of the following categories:</p>
<ul class="simple">
<li><p><strong>Equilibrium</strong> - initial transients are ignored or discarded in favor of a steady
state solution.</p></li>
<li><p><strong>Quasi-static</strong> - initial transients are computed but natural time (sec, min, etc)
are replaced with an easier to compute number of passes through a given
actor.</p></li>
<li><p><strong>Discrete time</strong> - natural time is implemented but discretized to some minimum
and constant dt.</p></li>
<li><p><strong>Adaptive time</strong> - natural time is implemented and discretized, but the value of
dt may change from time step to time step, allowing for finer resolution only
when needed.</p></li>
<li><p><strong>Continuous time</strong> - natural time is implemented as a continuous variable.</p></li>
</ul>
<p>It is important to note that this concern is a solely mathematical endeavor and
should not implement any domain-specific calculations. However, the
implementation may be <em>domain-aware</em> in that it may know about certain sub-type
specializations.  For example, materials and U.S. Dollars are both sub-types of
resources. Still, the dynamic resource exchange simulation concern is not
allowed to discriminate between any of these specializations nor perform
domain-specific computations (such as transmuting a material or pricing a
derivative).</p>
<p>This concern is responsible for housing general archetypes that allow for
general, dynamic simulation of supply chain networks in a resource-neutral
manner. Supply chain network models require, at minimum, three types of entities
(i.e., nodes) <span id="id4">[<a class="reference internal" href="#id9" title="Mokhtar S Bazaraa, John J Jarvis, and Hanif D Sherali. Linear programming and network flows. John Wiley &amp; Sons, 2011.">BJS11</a>]</span>:</p>
<ul class="simple">
<li><p>Sources (supply nodes)</p></li>
<li><p>Storage (transshipment nodes)</p></li>
<li><p>Sinks (demand nodes)</p></li>
</ul>
<p>In addition to enabling such basic simulations, the dynamic resource exchange
simulation concern is also responsible for all optimizations of the fuel cycle.
This includes optimizing resource exchange between multiple actors as well as
finding the initial conditions which optimize a value function subject to some
constraints.</p>
</section>
<section id="domain-models">
<h3>Domain Models<a class="headerlink" href="#domain-models" title="Link to this heading">¶</a></h3>
<p>The purpose of the domain models concern is to provide interesting, accurate, and
relevant models of various aspects of the fuel cycle.  These aspects are often the
technical meat of the fuel cycle analysis.  However, they may be mathematically
separated from resource exchange.  This concern ensures that those mathematical
separations remain distinct in the software.  There are a number of domain models
which are pertinent to fuel cycle calculations:</p>
<ul class="simple">
<li><p>Physics</p></li>
<li><p>Chemistry</p></li>
<li><p>Health Physics</p></li>
<li><p>Economics</p></li>
<li><p>Public Policy</p></li>
<li><p>and more!</p></li>
</ul>
<p>The implementation of specific domain computations should rely on the system dynamics
for all systematic flow and timing needs.  The implementation of the domain
calculations should be completely separated from the system dynamics concern.
This establishes a clean interface between these two concerns.</p>
<p>For example, take an enrichment facility which is asked to compute product and tails
enrichments.  In the initialization of this calculation, the dynamic resource
exchange simulation concern hands off the simulation time (t), the time delta (dt),
and the initial feed material to the underlying physics model.  The physics model
then computes the desired outputs without further interaction with the resource
exchange model.  Lastly, the outputs are returned to the DRES model.</p>
</section>
<section id="analysis-visualization">
<h3>Analysis &amp; Visualization<a class="headerlink" href="#analysis-visualization" title="Link to this heading">¶</a></h3>
<p>The purpose of the analysis &amp; visualization concern is to supply aggregation and
introspection into the simulation outputs.  The analysis may take place at both
high and low levels, common aggregations should be easy to perform, and static
and interactive visualization should be provided as a mechanism for easy human
consumption.  All post-processing of simulation data falls under this concern.</p>
<p>The analysis &amp; visualization concern is dependent directly on both the dynamic
resource exchange simulation concern and the domain models concern.  This is because
meaningful inspection of simulation data requires parameters from both concerns.
Note that these dependencies are independent.  The analysis &amp; visualization tools
must handle the case where only DRES models are used.  However, if domain models
are used and the analysis &amp; visualization is aware of these domain models,
all DRES parameters are guaranteed to also be present.</p>
</section>
<section id="simulation-orchestration">
<h3>Simulation Orchestration<a class="headerlink" href="#simulation-orchestration" title="Link to this heading">¶</a></h3>
<p>Simulation campaigns often involve executing multiple instances of the DRE and
associated analysis and visualization. This may be with the purpose of,</p>
<ul class="simple">
<li><p>performing a sensitivity study,</p></li>
<li><p>running a parameter sweep,</p></li>
<li><p>sampling from a large option space, or</p></li>
<li><p>creating a training set for machine learning models.</p></li>
</ul>
<p>This execution and analysis is either managed manually or automatically, but it
is always managed.  Running, analyzing, visualizing, and generating many <span style="font-variant:small-caps;">Cyclus</span>
input files is termed here “orchestration.” This includes provisioning compute
resources where these tasks are executed. Data management also falls under the
purview of simulation orchestration.</p>
<p>Simulation orchestration provides a feedback loop for the <span style="font-variant:small-caps;">Cyclus</span> ecosystem.
It both drives the DRE simulator and incorporates the results of previous
simulations.</p>
</section>
</section>
<section id="the-cyclus-ecosystem">
<h2>The <span style="font-variant:small-caps;">Cyclus</span> Ecosystem<a class="headerlink" href="#the-cyclus-ecosystem" title="Link to this heading">¶</a></h2>
<p>While many fuel cycle simulators may choose to implement all of the above concerns
in a single project, each concern in the <span style="font-variant:small-caps;">Cyclus</span> ecosystem is implemented in
its own project.  Many projects may satisfy the needs of a concern.  However, no
project may try to address multiple concerns. This provides a clear guideline
for which projects should accept which kinds of code.</p>
<p>If for some reason ambiguities exist, first attempt to refactor the code at hand
with these concerns in mind.  If this fails because of a fundamental ambiguity
or mixing of multiple concerns, place the code with the most dependent concern.
For example, if it is not clear if a class belongs with domain models or with the
resource exchange put it with the domain models to be safe.</p>
<p>The <span style="font-variant:small-caps;">Cyclus</span> development team currently supports projects for these concerns:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cyclus/cyclus">Cyclus</a> - Dynamic Resource Exchange Simulation (individual actors, discrete
time, canonical supply chain entities)</p></li>
<li><p><a class="reference external" href="https://github.com/cyclus/cycamore">Cycamore</a> - Domain Models</p></li>
<li><p><a class="reference external" href="https://github.com/cyclus/cymetric">Cymetric</a> -  Analysis &amp; Visualization</p></li>
<li><p><a class="reference external" href="https://github.com/cyclus/cyclist2">Cyclist</a> -  Analysis &amp; Visualization (historical)</p></li>
<li><p><a class="reference external" href="https://github.com/ergs/rickshaw">Rickshaw</a> - Simulation orchestration</p></li>
</ul>
<p>The dependency graph for these projects is similar to the graph of the concerns.
Figure 2 displays this graph along with other projects which implement these concerns.</p>
<figure class="align-center" id="id11">
<img alt="../_images/cep-0002-2.svg" src="../_images/cep-0002-2.svg" /><figcaption>
<p><span class="caption-text"><strong>Figure 2:</strong> Dependencies Between Projects is <span style="font-variant:small-caps;">Cyclus</span> Ecosystem.</span><a class="headerlink" href="#id11" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="toolkits">
<h3>Toolkits<a class="headerlink" href="#toolkits" title="Link to this heading">¶</a></h3>
<p>In any real system, there is glue code which holds the projects together in a
cohesive manner.  A collection of such utilities is called a <em>toolkit</em>.  While
toolkits are critically important to well functioning software their components
are united only in that “should be useful.”  There need not be underlying concept
tying them together.  For this reason, toolkits are not a top-level concern on
par with resource exchange, domain models, and analysis &amp; visualization.</p>
<p>Instead, each project may have its own toolkit which contains utilities that
corresponds most closely with its concern.  The toolkit provides a layer on top of
the concern implementation.  Thus the toolkit will be aware of other parts of the
project but the concern implementation should not call into elements from the toolkit.</p>
<p>For example, resources are part of the primary concern of <span style="font-variant:small-caps;">Cyclus</span>.  Thus
a ResourceBuffer class would be part of the <span style="font-variant:small-caps;">Cyclus</span> toolkit.  This is because
resource exchange can be implemented without a ResourceBuffer but such a class
is useful to provide to domain model developers.  Furthermore, the buffer
applies to all resources is not specific to any domain. Thus this class should be
included next to the resource exchange implementation.</p>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>Many other ecosystems and projects model the fuel cycle and make their own choices
about how to separate – or not – the concerns of resource exchange, domain models,
and analysis and visualization.  The <span style="font-variant:small-caps;">Cyclus</span> ecosystem places all concerns in
separate projects.  This allows a high degree of modularity between software and
developers.  Such an ecosystem enables experts to contribute their specific
knowledge base in a way that is independent from other parts of the ecosystem
while simultaneously integrating well with the rest of the ecosystem.  Finally,
this document provides instructions on where to implement tasks based on the task’s
primary concern.</p>
</section>
<section id="document-history">
<h2>Document History<a class="headerlink" href="#document-history" title="Link to this heading">¶</a></h2>
<p>This document is released under the CC-BY 3.0 license.</p>
</section>
<section id="references-and-footnotes">
<h2>References and Footnotes<a class="headerlink" href="#references-and-footnotes" title="Link to this heading">¶</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Separation_of_concerns">http://en.wikipedia.org/wiki/Separation_of_concerns</a></p>
</aside>
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Agent-based_model">http://en.wikipedia.org/wiki/Agent-based_model</a></p>
</aside>
<aside class="footnote brackets" id="id7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/System_dynamics">http://en.wikipedia.org/wiki/System_dynamics</a></p>
</aside>
</aside>
<div class="docutils container" id="id8">
<div role="list" class="citation-list">
<div class="citation" id="id9" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">BJS11</a><span class="fn-bracket">]</span></span>
<p>Mokhtar S Bazaraa, John J Jarvis, and Hanif D Sherali. <em>Linear programming and network flows</em>. John Wiley &amp; Sons, 2011.</p>
</div>
</div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">CEP 2 - Separation of Concerns in the <span style="font-variant:small-caps;">Cyclus</span> Ecosystem</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#concerns">Concerns</a><ul>
<li><a class="reference internal" href="#dynamic-resource-exchange-simulation">Dynamic Resource Exchange Simulation</a></li>
<li><a class="reference internal" href="#domain-models">Domain Models</a></li>
<li><a class="reference internal" href="#analysis-visualization">Analysis &amp; Visualization</a></li>
<li><a class="reference internal" href="#simulation-orchestration">Simulation Orchestration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-cyclus-ecosystem">The <span style="font-variant:small-caps;">Cyclus</span> Ecosystem</a><ul>
<li><a class="reference internal" href="#toolkits">Toolkits</a></li>
</ul>
</li>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#document-history">Document History</a></li>
<li><a class="reference internal" href="#references-and-footnotes">References and Footnotes</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="cep1.html"
                          title="Previous page">&larr; CEP 1 - CEP Purpose and Guidelines</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="cep3.html"
                          title="Next page">&rarr; CEP 3 - <span style="font-variant:small-caps;">Cyclus</span> Release Procedure</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep3.html" title="CEP 3 - Cyclus Release Procedure"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cep1.html" title="CEP 1 - CEP Purpose and Guidelines"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="cep0.html" ><span style="font-variant:small-caps;">Cyclus</span> Enhancement Proposals</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CEP 2 - Separation of Concerns in the <span style="font-variant:small-caps;">Cyclus</span> Ecosystem</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2012-2024, University of Wisconsin Computational Nuclear Engineering Research Group.
      Last updated on Apr 01, 2024.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>