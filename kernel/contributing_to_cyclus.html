

<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Guide for Contributing to Cyclus &#8212; Home</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/cyclus.css?v=a0e5ed17" />
    <link rel="stylesheet" type="text/css" href="../_static/table_styling.css?v=a1a2a898" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script src="../_static/documentation_options.js?v=7558d08f"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="icon" href="../_static/big_c.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Guide for Reviewing Pull Requests" href="pr_review.html" />
    <link rel="prev" title="cycpp" href="cycpp.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12222727-2']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="pr_review.html" title="Guide for Reviewing Pull Requests"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cycpp.html" title="cycpp"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span style="font-variant:small-caps;">Cyclus</span> Kernel Developer Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Guide for Contributing to <span style="font-variant:small-caps;">Cyclus</span></a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="guide-for-contributing-to-cyclus">
<h1>Guide for Contributing to <span style="font-variant:small-caps;">Cyclus</span><a class="headerlink" href="#guide-for-contributing-to-cyclus" title="Link to this heading">¶</a></h1>
<p><span style="font-variant:small-caps;">Cyclus</span> has a number of projects under its umbrella.  The core <span style="font-variant:small-caps;">Cyclus</span>
project repository is located at <a class="reference external" href="http://github.com/cyclus/cyclus">http://github.com/cyclus/cyclus</a>. Additional
projects found at <a class="reference external" href="http://github.com/cyclus">http://github.com/cyclus</a> include :</p>
<ul class="simple">
<li><p>Cycamore, the <span style="font-variant:small-caps;">Cyclus</span> additional module repository</p></li>
<li><p>Cymetric, the <span style="font-variant:small-caps;">Cyclus</span> metrics calculator</p></li>
<li><p>Rickshaw, the automated <span style="font-variant:small-caps;">Cyclus</span> driver</p></li>
<li><p>and more to come.</p></li>
</ul>
<p>Although you do not have to register with GitHub to download and edit the
code, if you desire your work to be integrated into the <span style="font-variant:small-caps;">Cyclus</span> mainline of
development <em>you must fork the cyclus core repository into your own GitHub
account and submit ‘Pull Requests’</em>. <a class="reference internal" href="build_from_source.html"><span class="doc">Here is a tutorial on getting and
building cyclus.</span></a></p>
<section id="working-on-a-topic">
<h2>Working on a Topic<a class="headerlink" href="#working-on-a-topic" title="Link to this heading">¶</a></h2>
<p><em>Note that “upstream” repository refers to the primary `cyclus/cyclus` repository.</em></p>
<p>You may find or create an issue report in a <span style="font-variant:small-caps;">Cyclus</span> repository that you would
like to solve.</p>
<p>You’ll first need to fork your repository and create a branch for the topic
you’d like you solve. As you do your development, push only to your own fork.
Make a pull request to the upstream repository (usually the “develop” branch)
only after:</p>
<ul class="simple">
<li><p>You have pulled the latest changes from the upstream repository.</p></li>
<li><p>You have completed a logical set of changes.</p></li>
<li><p><span style="font-variant:small-caps;">Cyclus</span> compiles with no errors.</p></li>
<li><p>All tests pass.</p></li>
<li><p><span style="font-variant:small-caps;">Cyclus</span> input files run as expected.</p></li>
<li><p>Your code has been reviewed by another developer.</p></li>
</ul>
<p>Code from the “develop” branch generally must pass even more rigorous checks
before being integrated into the “master” branch. Hotfixes would be a
possible exception to this.</p>
</section>
<section id="keeping-your-fork-up-to-date">
<h2>Keeping Your Fork Up To Date<a class="headerlink" href="#keeping-your-fork-up-to-date" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Use a branching workflow similar to the one described at
<a class="reference external" href="http://progit.org/book/ch3-4.html">http://progit.org/book/ch3-4.html</a>.</p></li>
<li><p>The “develop” branch is how <span style="font-variant:small-caps;">Cyclus</span> developers will share (generally
compilable) progress when we are not yet ready for the code to become
‘production’.</p></li>
<li><p>Keep your own “master” and “develop” branches in sync with the upstream
repository’s “master” and “develop” branches. The master branch should
always be the ‘stable’ or ‘production’ release of <span style="font-variant:small-caps;">Cyclus</span>.</p>
<blockquote>
<div><ul>
<li><p>Pull the most recent history from the upstream repository “master”
and/or “develop” branches before you merge changes into your
corresponding local branch. Consider doing a rebase pull instead of
a regular pull or ‘fetch and merge’.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">develop</span>
<span class="n">git</span> <span class="n">pull</span> <span class="o">--</span><span class="n">rebase</span> <span class="n">upstream</span> <span class="n">develop</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
<li><p>As you do development on topic branches in your own fork, consider
rebasing the topic branch onto the “master” and/or “develop”  branches
after <em>pulls</em> from the upstream repository rather than merging the pulled
changes into your branch.  This will help maintain a more linear (and clean)
history.  <em>Please see caution about rebasing below</em>.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="p">[</span><span class="n">your</span> <span class="n">topic</span> <span class="n">branch</span><span class="p">]</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="n">develop</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="passing-tests">
<h2>Passing Tests<a class="headerlink" href="#passing-tests" title="Link to this heading">¶</a></h2>
<p>To check that your branch passes the tests, you must build and install your topic
branch and then run the tests built during that process.</p>
<p>For the <span style="font-variant:small-caps;">Cyclus</span> core, the tests are run using the CyclusUnitTestDriver (at
the moment, <code class="docutils literal notranslate"><span class="pre">`make</span> <span class="pre">test`</span></code> is insufficient). For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">build</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">../</span><span class="n">src</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=../</span><span class="n">install</span>
<span class="n">make</span>
<span class="n">make</span> <span class="n">install</span>
<span class="o">../</span><span class="n">install</span><span class="o">/</span><span class="n">cyclus</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">CyclusUnitTestDriver</span>
</pre></div>
</div>
<p>In Cycamore, the additional module repository, the tests are run in an exactly
analogous way, but using the CycamoreUnitTestDriver. For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">build</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">../</span><span class="n">src</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=../</span><span class="n">install</span>
<span class="n">make</span>
<span class="n">make</span> <span class="n">install</span>
<span class="o">../</span><span class="n">install</span><span class="o">/</span><span class="n">cycamore</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">CycamoreUnitTestDriver</span>
</pre></div>
</div>
<p>In addition to the CycamoreUnitTestDriver, a suite of input files can be run and
tested using the run_inputs.py script that is configured, built, and installed
with Cycamore. It relies on the input files that are part of your Cycamore
repository, and only succeeds for input files that are correct (some may have
known issues. See the issue list in Cycamore for details.) To run the example
input files,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">../</span><span class="n">install</span><span class="o">/</span><span class="n">cycamore</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">run_inputs</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section id="making-a-pull-request">
<h2>Making a Pull Request<a class="headerlink" href="#making-a-pull-request" title="Link to this heading">¶</a></h2>
<p>When you are ready to move changes from one of your topic branches into the
“develop” branch, it must be reviewed and accepted by another developer.</p>
<blockquote>
<div><ul class="simple">
<li><p>You may want to review this <a class="reference external" href="https://help.github.com/articles/using-pull-requests/">tutorial</a> before you make
a pull request to the develop branch.</p></li>
</ul>
</div></blockquote>
<p>Sometimes, your pull request will be closed by the reviewer until further
changes are made to appease the reviewer’s concerns. This may be frustrating,
but please act rationally, discuss the issues on the GitHub space made for
your pull request, consult the <cite>style guide &lt;style_guide&gt;</cite>, email the
developer listhost for further advice, and make changes to your topic branch
accordingly. The pull request will be updated with those changes when you push
them to your fork.  When you think your request is ready for another review,
you can reopen the review yourself with the button made available to you.</p>
</section>
<section id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">¶</a></h2>
<p>Pull requests will often have CHANGELOG entries associated with. However,
to avoid excessive merge conflicts, please follow the following procedure:</p>
<ol class="arabic">
<li><p>Go into the <code class="docutils literal notranslate"><span class="pre">news/</span></code> directory,</p></li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">TEMPLATE.rst</span></code> file to another file in the <code class="docutils literal notranslate"><span class="pre">news/</span></code> directory.
We suggest using the branchname:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cp TEMPLATE.rst branch.rst
</pre></div>
</div>
</li>
<li><p>Add your entries as a bullet pointed lists in your <code class="docutils literal notranslate"><span class="pre">branch.rst</span></code> file in
the appropriate category. It is OK to leave the <code class="docutils literal notranslate"><span class="pre">None</span></code> entries for later
use.</p></li>
<li><p>Commit your <code class="docutils literal notranslate"><span class="pre">branch.rst</span></code>.</p></li>
</ol>
<p>Feel free to update this file whenever you want! Please don’t use someone
else’s file name. All of the files in this <code class="docutils literal notranslate"><span class="pre">news/</span></code> directory will be merged
automatically at release time.  The <code class="docutils literal notranslate"><span class="pre">None</span></code> entries will be automatically
filtered out too!</p>
</section>
<section id="reviewing-a-pull-request">
<h2>Reviewing a Pull Request<a class="headerlink" href="#reviewing-a-pull-request" title="Link to this heading">¶</a></h2>
<blockquote>
<div><ul>
<li><p>Build, install, and test it. If you have added the remote repository as
a remote you can check it out and merge it with the current develop
branch thusly,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">remote_name</span><span class="o">/</span><span class="n">branch_name</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">develop</span>
</pre></div>
</div>
</li>
<li><p>Look over the code. The <cite>next page &lt;pr_review&gt;</cite> details what to look for while reviewing.)</p>
<ul class="simple">
<li><p>Check that it meets <a class="reference internal" href="style_guide.html"><span class="doc">our style guidelines</span></a>.</p></li>
<li><p>Make inline review comments concerning improvements.</p></li>
</ul>
</li>
<li><p>Accept the Pull Request</p>
<ul>
<li><p>In general, <strong>every commit</strong> (notice this is not ‘every push’) to the
“develop” and “master” branches should compile and pass tests. This
is guaranteed by using a NON-fast-forward merge during the pull request
acceptance process.</p></li>
<li><p>The green “Merge Pull Request” button does a non-fast-forward merge by
default. However, if that button is unavailable, you’ve made minor
local changes to the pulled branch, or you just want to do it from the
command line, make sure your merge is a non-fast-forward merge. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">develop</span>
<span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span> <span class="n">remote_name</span><span class="o">/</span><span class="n">branch_name</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;A message&quot;&quot;</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</div></blockquote>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<p>A good description of a git workflow with good graphics is available at
<a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Guide for Contributing to <span style="font-variant:small-caps;">Cyclus</span></a><ul>
<li><a class="reference internal" href="#working-on-a-topic">Working on a Topic</a></li>
<li><a class="reference internal" href="#keeping-your-fork-up-to-date">Keeping Your Fork Up To Date</a></li>
<li><a class="reference internal" href="#passing-tests">Passing Tests</a></li>
<li><a class="reference internal" href="#making-a-pull-request">Making a Pull Request</a></li>
<li><a class="reference internal" href="#changelog">Changelog</a></li>
<li><a class="reference internal" href="#reviewing-a-pull-request">Reviewing a Pull Request</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="cycpp.html"
                          title="Previous page">&larr; cycpp</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="pr_review.html"
                          title="Next page">&rarr; Guide for Reviewing Pull Requests</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="pr_review.html" title="Guide for Reviewing Pull Requests"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="cycpp.html" title="cycpp"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" ><span style="font-variant:small-caps;">Cyclus</span> Kernel Developer Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Guide for Contributing to <span style="font-variant:small-caps;">Cyclus</span></a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2012-2024, University of Wisconsin Computational Nuclear Engineering Research Group.
      Last updated on Mar 22, 2024.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>